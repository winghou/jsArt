---
layout: post
title: Q&A
date: Wed Nov 14 2018 13:42:14 GMT+0800
---


### 常见的一些问题及相关参考链接

#### 微信分享 SPA/history模式
1. [ios与android识别url的异同](https://github.com/yongheng2016/blog/issues/78)


#### vue相关
1. [vue源码技术内幕](http://hcysun.me/vue-design/)
2. 


#### element-ui
1. [vue-element-admin](https://panjiachen.github.io/vue-element-admin-site/zh/guide/#%E5%8A%9F%E8%83%BD)
2. 

#### 数字滚动
1. [滚动插件countUp.js](https://inorganik.github.io/countUp.js/)
2. [滚动插件npm](https://npm.taobao.org/package/countup.js)

#### 好的ui风格
1. [material](https://material.io/)
2. [materializecss](https://materializecss.com/buttons.html)

#### js动画
- https://www.zcfy.cc/article/11-javascript-animation-libraries-for-2018
- http://www.css88.com/archives/7389
- http://h5bp.github.io/Effeckt.css/
1. [tween](https://www.tweenmax.com.cn/about/)
2. [页面切换效果](http://www.yyyweb.com/demo/page-transitions/)
3. [animejs](http://animejs.com/)
4. [动画库4](https://www.lottiefiles.com/)
5. [动画库5](https://daneden.github.io/animate.css/)
6. [动画库6](http://animejs.com/)
7. [动画库7](http://animejs.com/)
8. [动画库8](http://animejs.com/)

#### css相关
1. [css实现ooter置底](http://liaokeyu.com/%E6%8A%80%E6%9C%AF/2017/01/06/%E8%AF%91-CSS%E4%BA%94%E7%A7%8D%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0Footer%E7%BD%AE%E5%BA%95.html)
2. [学习css布局](http://zh.learnlayout.com/inline-block.html)

#### 文档生成工具
1. [jsdoc](http://www.css88.com/doc/jsdoc/index.html)
2. [vue-styleguidist](https://github.com/vue-styleguidist/vue-styleguidist)

#### ECharts 基本用法
现在的项目多是用webpack构建工具，因此直接如下：
```js
// # 安装echarts
npm install echarts -S

// 引入echarts，当然这是引入echarts的所有模块;如按需引入，需先引入主模块，然后再引入各个组件模块
// import引入模块，若是自执行模块，可以省略文件名，如：import '自执行模块'
import echarts from 'echarts'

// echarts实例化
// 有三个参数，参数1是元素必填，参数2是主题，参数3是选项（设备像素比，渲染器，宽高）
let newInstance = echarts.init(dom [,option])

// echarts实例初始化
// 一般情况会定义图表组件，然后图表组件有默认数据，然后父组件会通过props传递异步数据。图表组件watch props变化，然后更新。
// 但第一次初始化props数据时，不能触发watch，因此可以手动触发watch，即mounted时给props添加属性触发watch；还可以将watch里的逻辑抽离，然后在mounted里执行一次。
newInstance.setOption(option)

// 设置resize，echarts有自己的resize事件，无需自己控制。另外为resize时交互性更好，可以加节流
// 节流是间隔运行，防抖类似电梯，若有人上则一直停止运行
window.addEventLister('resize', throttle(() => {
  newInstance.resize();
}, 1000))
```

#### 相关的知识点
1. echarts结构
	- 其实也是类似ps的分层结构，series里的很多类型图表都可以叠加在一个echarts实例上
	- 可以对每一层设置zleave，然后然后可以根据api获取某一层的具体信息
	- 还可以将地图上的经纬度数据转换成坐标数据，进而可以基于具体地图上的点做些其他逻辑，如水波纹
2. 定义单个图表组件时
	- 在vue的mounted钩子里通常会实例化，通常还会初始化（setOption），其实没有必要初始化，
	- 因为第一次即使初始化也是假数据，没有意义。另外就是第一次初始化数据时也不会触发watch。
	- 但可以将watch里的逻辑抽离，然后在mounted里判断一下，如果有新数据则执行抽离的逻辑
3. 父子组件传值
	- props方式，写默认数据啰嗦，不写又不明了
	- vuex方式需要有清晰的逻辑，后续完善。。。
4. 大数据块
	- 在做关于地图类的图表时，option一般都需要很多很大的数据，可以将数据单独抽离成一个文件引入
	- vue里data函数里定义的是响应式数据，如果不是页面响应式数据，可定义在实例外侧
5. 动画
	- 因为很多元素都是靠js操作获取的，单纯靠css动画比较困难，因此还可以借助第三方动画库对元素做一些动画，比如animate或者tween
	- 逐祯动画如果步幅很小，也容易出现抖动的问题，应该如何解决？
	- 这些动画库都是相互独立的动画单元，但如果对以施加一定的逻辑，也可以实现非常可观的动画……
```js

```

6. 消除滚轮，鼠标等事件
```js
// window.addEventListener('scroll mousewheel', fn),无法像jq那样同时绑定多个事件
['scroll','mousewheel'].forEach((item) => {
	window.addEventListener(item,(e) => {
		e.preventDefault && e.preventDefault();
		e.returnValue = false; // 已废除(但有旧浏览器支持)，用e.preventDefault()代替
		e.stopPropagation && e.stopPropagation();
		return false;
	})
})
```
7. 禁止页面文字选中
```css
/* 如果配合autoprefixer，可以只写user-select:none */
body{
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	-khtml-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
}
```


echarts类似ps的分层结构，




如果动画正在执行时，数据发生更新应该如何处理？为看起来流畅，应该先等动画执行完，再更新数据，再开始动画，但又如何知道什么时候结束动画？如果不这样有没有其他方式？


以后不能说不知道，先思考一下如何才能得到？不会先留着

1. 支付逻辑
2. 埋点逻辑
3. docker
4. 小程序
5. 部署脚本
6. 框架
7. cas单点登录
8. vue源码
9. ts
10. jenkins
11. 数据结构及算法
13. 微信sdk,授权，支付，分享
14. 唤起app
15. 

#### 常用命令
*一般情况下，命令都有很多参数或选项，可通过：man 命令 查看*
```bash
# echo命令
# 用于输出字符串或变量的值，格式为：echo [字符串 | $变量]
$ echo hello world
=> hello world

# 变量名通常为大写，比如输出默认的shell
$ echo $SHELL
=> /bin/zsh
```

```bash
# date命令
# 用于显示及设置系统的时间或格式，格式为：date [选项] [格式]
$ date
=> 2018年11月11日 星期日 13时09分13秒 CST

# 当前具体时间
$ date "+%Y-%m-%d %H:%M:%S"
=> 2018-11-11 13:09:31

# 查看今天是当前中第几天
$ date "+%j"
=> 315
```

```bash
# reboot命令
# 用于重启系统，格式为：reboot
$ reboot

# poweroff命令
# 用于关闭系统，格式为：poweroff
$ poweroff

# ps命令，常结合管道符命令使用
# 用于查看系统中的进程状态，格式为：ps
$ ps

# top命令
# 用于动态实时监视进程活动与系统负载信息，格式为：top
$ top
```

```bash
# lsof（list open files）命令
# 用于列出当前系统打开的文件，常用查看端口占用情况如下：
$ lsof -i tcp:4000
=> ruby    66206 finup   10u  IPv4 0x1179df194c90da5b      0t0  TCP localhost:terabase (LISTEN)
```

```bash
# kill命令
# 用于终止某个指定PID的服务进程，格式为：kill [参数] [PID]，如下默认是强删
$ kill 1234

# killall命令
# 用于终止某个指定名称的服务所对应的全部进程，格式为：kill [参数] [服务名]
$ killall node
```

```bash
# wget命令
# 用于在终端下载网络文件，格式为：wget [参数] 下载地址（省略则下载到当前目录）
$ wget http://www.linuxprobe.com/docs/LinuxProbe.pdf 
```

系统状态监测命令
```bash
# ifconfig命令
# 用于获取网卡配置与网络状态，格式为：ifconfig [网络设备] [参数]
$ ifconfig

# uname命令
# 用于查看系统内核与系统版本等信息，格式为：uname [选项]
$ uname -a 
=> Darwin xxx.local 16.7.0 Darwin Kernel Version 16.7.0: Thu Jun 15 17:36:27 PDT 2017; root:xnu-3789.70.16~2/RELEASE_X86_64 x86_64

# uptime命令
# 用于查看系统的负载信息，格式为：uptime
$ uptime 
=> 13:50  up 22:53, 3 users, load averages: 2.28 2.69 2.46

# who命令
# 用于查看当前登入主机的用户终端信息，格式为：who [选项]
$ who

# history命令，默认显示近1000条
# 用于显示历史执行过的命令，格式为：history [选项]
$ history 
```

工作目录切换命令
```bash
# pwd命令
# 用于显示当前用户所处的工作目录，格式为：pwd [选项]
$ pwd
=> /etc

# cd命令
# 用于切换工作路径，格式为：cd [工作目录]
# 切换到家目录（其他用户家目录：~username）
$ cd ~

# ls命令
# 用于显示目录中的文件信息，格式为：ls [选项][文件]
# -a参数查看全部文件（含隐藏），-l查看文件属性，大小的等详细信息
$ ls -al
-r--------     1 finup  staff         9  6 19  2017 .CFUserTextEncoding
-rw-r--r--@    1 finup  staff     34820 11  8 17:24 .DS_Store
...
```

文件目录管理命令
```bash
# touch命令
# 用于创建空白文件或设置文件的时间，格式为：touch [选项] [文件]
$ touch

# mkdir命令
# 用于创建空白的目录，格式为：mkdir [选项] 目录，-p选项是递归嵌套
$ mkdir -p a/b/c/d

# cp命令
# 用于复制文件或目录，格式为：cp [选项] 源文件 目标文件
# 如果目标文件是目录，则会把源文件复制到该目录中
# 如果目标文件也是普通文件，则会询问是否要覆盖它
# 如果目标文件不存在，则执行正常的复制操作
$ cp

# mv命令
# 用于剪切文件或将文件重命名，格式为：mv[选项] 源文件 [目标路径|目标文件名]
$ mv

# rm命令
# 用于删除文件或目录，格式为：rm [选项] 文件
$ rm test.log

# file命令
# 用于查看文件的类型，格式为：file 文件名
$ file test
=> test: directory

# tar命令
# 用于对文件进行打包压缩或解压，格式为：tar [选项] [文件]
# -c   创建压缩文件
# -x   解开压缩文件
# -t   查看压缩包内有哪些文件
# -z   用 Gzip 压缩或解压
# -j   用 bzip2 压缩或解压
# -v   显示压缩或解压的过程
# -f   目标文件名
# -p   保留原始的权限与属性
# -P   使用绝对路径来压缩
# -C   指定解压到的目录

# 把/etc 目录通 过 gzip 格式进行打包压缩，并把文件命名为 etc.tar.gz
$ tar -czvf etc.tar.gz /etc

# 打包后的压缩包文件指定解压到/root/etc 目录中
$ tar xzvf etc.tar.gz -C /root/etc

# grep命令
# 用于在文本中执行关键词搜索，并显示匹配的结果，格式为：grep [选项][文件]
$ grep 

# find命令
# 用于按照指定条件来查找文件，格式为：find [查找路径] 寻找条件 操作
# 获取etc目录中所有以 host 开头的文件列表
find /etc -name "host*" -print
```


